{"version":3,"sources":["serviceWorker.js","index.js","ipfsCall.js","ProfileBooks.js","App.js","utils/getWeb3.js","Card.js"],"names":["Boolean","window","location","hostname","match","ReactDOM","render","react_default","a","createElement","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","ipfs","require","host","port","protocol","ProfileBooks","react__WEBPACK_IMPORTED_MODULE_5___default","Fragment","className","keyValue","this","props","onClick","alt","src","concat","imag","align","pname","Component","_this","Object","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","earnings","totalSold","imageBuffer","bookImage","exists","visibleTimer","rentedBooks","rentHash","rent","rentDays","booksBoughtName","booksBought","wallet","current","visibleBook","bookDetails","prnt","visible","bookName","clientName","token","ownerName","price","contentName","viewText","showPreview","fileMetadata","storageValue","web3","accounts","contract","buffer","ipfsHash","componentDidMount","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","self","networkId","deployedNetwork","instance","wrap","_context","prev","next","C_Users_utalwar_Desktop_authorCSS_auth_or_client_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","addEventListener","e","keyCode","setState","console","log","setInterval","checkView","getWeb3","sent","eth","getAccounts","net","getId","OwnershipContract","networks","Contract","abi","address","t0","alert","error","stop","uploadTransaction","_callee2","_this$state","_context2","methods","uploadContent","send","from","buyTokenTransaction","_callee3","_this$state2","_context3","buyTokens","purchaseTransaction","_callee4","_this$state3","_context4","purchase","getCustomerCall","_callee5","_this$state4","response","_context5","getCustomer","_hex","getAll","_callee6","_context6","getAllBooks","rentTranact","_callee7","_this$state5","_context7","rentTransaction","getTotal","_callee8","_this$state6","total","_context8","getUploads","getFile","bind","getImage","submitFile","calcTime","loadHtml","toggle","buyToken","closeModal","viewHandler","viewTimerHandler","hash","setTimeout","event","_this2","preventDefault","file","target","files","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","result","add","values","map","key","index","_this3","timestamp","Date","toLocaleTimeString","shown","value","openViewModal","openModal","_this4","react__WEBPACK_IMPORTED_MODULE_8___default","coins","_Card_js__WEBPACK_IMPORTED_MODULE_15__","days","rentPrice","author","rentClick","rentHandler","buyClick","buyHandler","booksList","_ProfileBooks_js__WEBPACK_IMPORTED_MODULE_16__","rentList","react_tabs__WEBPACK_IMPORTED_MODULE_12__","onSubmit","type","onChange","accept","onInput","react_awesome_modal__WEBPACK_IMPORTED_MODULE_14___default","width","height","effect","onClickAway","parseInt","Promise","resolve","reject","_web","provider","_web2","ethereum","Web3","enable","providers","HttpProvider","Card"],"mappings":"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","file":"static/js/main.38ca5cb0.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === '127.0.0.1' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n     \r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","const IPFS = require('ipfs-api');\r\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https'});\r\n\r\nexport default ipfs;","import React, { Component } from 'react';\r\n\r\nclass ProfileBooks extends Component {\r\n    render() {\r\n        \r\n        return (\r\n          \r\n            <React.Fragment>\r\n                <div className=\"card\" keyValue={this.props.keyValue} onClick={this.props.onClick}>\r\n                    \r\n                    <img className=\"image\" alt=\"product\" src={`https://ipfs.io/ipfs/${this.props.imag}`} align=\"middle\"></img>\r\n                    <div className=\"p-des\">\r\n                        <p><strong>Book Name: </strong>{this.props.pname}</p>\r\n                        {/* <div>{this.props.pname}</div> */}\r\n                        {/* <p><strong>Author: </strong></p>\r\n                        <div>{this.props.author}</div> */}\r\n                    </div>\r\n\r\n                </div>\r\n                {/* <style jsx=\"true\">{`\r\n                    \r\n                    .image {\r\n                        width: 203px;\r\n                        border-bottom: 1px solid #e8e8e8;\r\n                        height: 230px;  \r\n                        align-items: center;\r\n                    }\r\n                    .p-des {\r\n                        padding: 15px;\r\n                        radius: 10px;\r\n                        \r\n                    }\r\n                    .p-des div {\r\n                        font-size: 15px;\r\n                        padding-bottom: 10px;\r\n                        color: white;\r\n                        \r\n                    }\r\n                    \r\n                    .card {\r\n                        box-shadow: 0 1px 1px 1px rgba(0,0,0,.25);\r\n                        float: left;\r\n                        flex-direction: column;\r\n                        display: flex;\r\n                        margin: 15px;\r\n                        margin-bottom: 25px;\r\n                        radius: 10px;\r\n                        background-color: rgb(91, 94, 99);\r\n                        \r\n                    }\r\n                    .card:hover {\r\n                        box-shadow: 0 4px 8px 0 rgba(0,0,0,845);\r\n                        cursor: pointer;\r\n                        transition: 0.4s;\r\n                    }\r\n                `}\r\n                </style> */}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileBooks;","import React, { Component } from \"react\";\r\nimport getWeb3 from \"./utils/getWeb3\";\r\nimport OwnershipContract from \"./contracts/Ownership.json\"\r\nimport ipfs from \"./ipfsCall\";\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport \"react-tabs/style/react-tabs.css\";\r\nimport Modal from 'react-awesome-modal';\r\nimport Card from './Card.js';\r\nimport ProfileBooks from './ProfileBooks.js';\r\n\r\nimport \"./App.css\";\r\n\r\nclass App extends Component {\r\n\r\n  state = { earnings: null, totalSold: null, imageBuffer: null, bookImage: null, exists: false, visibleTimer: false, rentedBooks: [], rentHash: null,rent: null, rentDays: null,booksBoughtName: [], booksBought: [],wallet: null, current: [], visibleBook: false, bookDetails: [], prnt: false, render: true, visible: false, bookName: null, clientName: \"utsav\", token: 0, ownerName: null, price: 0, contentName: null, viewText: 'Show Preview', showPreview: false, fileMetadata: [], storageValue: [], web3: null, accounts: null, contract: null, buffer: null, ipfsHash: \"hash\" };\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.getFile = this.getFile.bind(this);\r\n    this.getImage = this.getImage.bind(this);\r\n    this.submitFile = this.submitFile.bind(this);\r\n    this.calcTime = this.calcTime.bind(this);\r\n    this.loadHtml = this.loadHtml.bind(this);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.buyToken = this.buyToken.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.checkView = this.checkView.bind(this);//view timer\r\n    this.viewHandler = this.viewHandler.bind(this);\r\n    this.viewTimerHandler = this.viewTimerHandler.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount = async () => {\r\n\r\n    var self = this;\r\n    window.addEventListener(\"keyup\", function (e) {\r\n      if (e.keyCode == 44) {\r\n        self.setState({ prnt: true });\r\n        console.log(\"pressed!\")\r\n      }\r\n    });\r\n    setInterval(() => this.checkView(), 1000);//view timer\r\n\r\n    try {\r\n      // Get network provider and web3 instance.\r\n      const web3 = await getWeb3();\r\n\r\n      // Use web3 to get the user's accounts.\r\n      const accounts = await web3.eth.getAccounts();\r\n\r\n      // Get the contract instance.\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = OwnershipContract.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        OwnershipContract.abi,\r\n        deployedNetwork && deployedNetwork.address,\r\n      );\r\n      instance.address = \"0x10becf31e352882847b553404ed7c7daf858eb2f\";\r\n      // Set web3, accounts, and contract to the state, and then proceed with an\r\n      // example of interacting with the contract's methods.\r\n      this.setState({ web3, accounts, contract: instance });\r\n    } catch (error) {\r\n      // Catch any errors for any of the above operations.\r\n      alert(\r\n        `Failed to load web3, accounts, or contract. Check console for details.`,\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n  \r\n  checkView() { //view timer\r\n    if (this.state.render == false) {\r\n      this.closeModal();\r\n    }\r\n  }\r\n\r\n  uploadTransaction = async () => {\r\n    const { accounts, contract, ipfsHash, contentName, ownerName, price, rent, rentDays, bookImage } = this.state;\r\n\r\n    await contract.methods.uploadContent(ipfsHash, contentName, ownerName, price, rent, rentDays, bookImage).send({ from: accounts[0] });\r\n\r\n    console.log(\"storage Value: \", this.state.storageValue);\r\n  };\r\n\r\n\r\n  buyTokenTransaction = async () => {\r\n    const { contract, accounts, clientName, token } = this.state\r\n    await contract.methods.buyTokens(token).send({ from: accounts[0] });\r\n  };\r\n\r\n  purchaseTransaction = async () => {\r\n    console.log(\"Working\");\r\n    const { ipfsHash, contract, accounts} = this.state;\r\n    await contract.methods.purchase(ipfsHash).send({from: accounts[0]});\r\n    console.log(\"Transaction Successful !\");\r\n  };\r\n\r\n  getCustomerCall = async () => {\r\n    const { contract, accounts, clientName } = this.state;\r\n    const response = await contract.methods.getCustomer(accounts[0]).call();\r\n    this.setState({ wallet: response[0]._hex, booksBought: response[1], rentedBooks: response[2]});\r\n    console.log(\"Books Bought : \", response);\r\n  };\r\n\r\n  getAll = async () => {\r\n    const { contract } = this.state;\r\n    const response = await contract.methods.getAllBooks().call();\r\n    this.setState({ bookDetails: response });\r\n    console.log(\"books: \", this.state.bookDetails);\r\n  };\r\n\r\n  rentTranact = async () => {\r\n    const { contract, accounts, rentHash} = this.state;\r\n    await contract.methods.rentTransaction(rentHash).send({from: accounts[0]});\r\n  };\r\n\r\n  getTotal = async () => {\r\n    const { contract, accounts } = this.state;\r\n    const total = await contract.methods.getUploads(accounts[0]).call();\r\n    console.log(total);\r\n    this.setState({totalSold: total[0], earnings: total[1] });\r\n  }\r\n\r\n  loadHtml() {\r\n    return (`https://ipfs.io/ipfs/${this.state.ipfsHash}`);\r\n    // return (`https://wix.com`);\r\n  }\r\n\r\n  openModal(hash) {\r\n    if (this.state.render) {\r\n      this.setState({\r\n        visible: true,\r\n        ipfsHash: hash\r\n      });\r\n      // setTimeout(\r\n      //   function () {\r\n      //     this.setState({ render: false });\r\n      //   }.bind(this), 100000);\r\n    }\r\n    else {\r\n      this.setState({\r\n        visible: false\r\n      });\r\n    }\r\n  }\r\n\r\n  openViewModal(hash) {\r\n    if (this.state.render) {\r\n      this.setState({\r\n        visibleTimer: true,\r\n        ipfsHash: hash\r\n      });\r\n      setTimeout(\r\n        function () {\r\n          this.setState({ render: false });\r\n        }.bind(this), 10000);\r\n    }\r\n  }\r\n\r\n  closeViewModal() {\r\n    this.setState({\r\n      visibleTimer: false\r\n    });\r\n  }\r\n\r\n  \r\n  closeModal() {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  }\r\n\r\n  getFile(event) {\r\n    event.preventDefault()\r\n    const file = event.target.files[0]\r\n    const reader = new window.FileReader()\r\n    reader.readAsArrayBuffer(file);\r\n    console.log('buffer', this.state.buffer)\r\n\r\n    reader.onloadend = () => {\r\n      this.setState({ buffer: Buffer(reader.result) })\r\n      console.log('buffer', this.state.buffer)\r\n\r\n      ipfs.files.add(this.state.buffer, (error, result) => {\r\n        if (error) {\r\n          console.error(error)\r\n          return\r\n        }\r\n        this.setState({ ipfsHash: result[0].hash })\r\n        console.log(\"Book Details: \",this.state.bookDetails);\r\n        Object.values(this.state.bookDetails).map((key, index) => {\r\n          console.log(key[3])\r\n          if(key[3] == this.state.ipfsHash) {\r\n            console.log(\"exists\" + this.state.exists)\r\n            return(this.setState({exists: true}))\r\n          }\r\n        });\r\n        if(this.state.exists) {\r\n          alert(\"This book already exists!\")\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  getImage(event) {\r\n    event.preventDefault()\r\n    const file = event.target.files[0]\r\n    const reader = new window.FileReader()\r\n    reader.readAsArrayBuffer(file);\r\n    console.log('Image buffer', this)\r\n\r\n    reader.onloadend = () => {\r\n      this.setState({ imageBuffer: Buffer(reader.result) })\r\n      console.log('Image buffer', this.state.imageBuffer)\r\n\r\n      ipfs.files.add(this.state.imageBuffer, (error, result) => {\r\n        if (error) {\r\n          console.error(error)\r\n          return\r\n        }\r\n        this.setState({bookImage: result[0].hash})\r\n        console.log(\"Image Hash:\", this.state.bookImage)\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  submitFile(event) {\r\n    event.preventDefault();\r\n    console.log(\"BUFFER \", this.state.imageBuffer);\r\n    this.setState(this.uploadTransaction)  \r\n  }\r\n\r\n  calcTime(timestamp) {\r\n    if (timestamp) {\r\n      var date = new Date(timestamp * 1000);\r\n      return date.toLocaleTimeString;\r\n    }\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      shown: !this.state.shown,\r\n      viewText: 'Hide Preview'\r\n    });\r\n  }\r\n\r\n  buyToken(event) {\r\n    event.preventDefault();\r\n    this.setState(this.buyTokenTransaction);\r\n  }\r\n\r\n  viewTimerHandler(value) {\r\n    console.log(value);\r\n    this.openViewModal(value);\r\n  }\r\n\r\n  viewHandler(value) {\r\n    console.log(value);\r\n    this.openModal(value);\r\n  }\r\n\r\n  rentHandler(hash) {\r\n    console.log(hash);\r\n    this.setState({rentHash: hash}, this.rentTranact);\r\n  }\r\n\r\n  buyHandler(hash) {\r\n    this.setState({ ipfsHash: hash }, this.purchaseTransaction);\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.web3) {\r\n      return <div>Loading Web3, accounts, and contract...</div>;\r\n    }\r\n    // var hidden = {\r\n    // \tdisplay: this.state.shown ? \"block\" : \"none\"\r\n    // }\r\n\r\n    const coins = Object.values(this.state.bookDetails).map((key, index) => (\r\n      <Card days={key[6]} rentPrice={key[5]} imag={key[4]} pname={key[0]} author={key[1]} price={key[2]} rentClick={()=> this.rentHandler(key[3])}  buyClick={() => this.buyHandler(key[3])} />\r\n    ));\r\n\r\n    const booksList = Object.values(this.state.booksBought).map((key, index) => (\r\n      <ProfileBooks imag={key[2]} pname={key[1]} onClick={()=> this.viewHandler(key[0])}/>\r\n    ));\r\n    \r\n    const rentList = Object.values(this.state.rentedBooks).map((key, index) => (\r\n      <ProfileBooks imag={key[2]} pname={key[1]} onClick={()=> this.viewHandler(key[0])}/>\r\n    ));\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"Header\">\r\n          <h1>auth.or</h1>\r\n          <p><strong>My Address: </strong>{this.state.accounts[0]}</p>\r\n          <p>Upload to IPFS and Secure by Ethereum</p>\r\n        </div>\r\n\r\n        <Tabs>\r\n          <TabList className=\"tabs\">\r\n            <Tab>\r\n              Upload\r\n            </Tab>\r\n            <Tab>\r\n              Find Content\r\n            </Tab>\r\n            <Tab>\r\n              Buy Tokens\r\n            </Tab>\r\n            <Tab>\r\n              Profile\r\n            </Tab>\r\n            <Tab>\r\n              Author Insights\r\n            </Tab>\r\n          </TabList>\r\n\r\n          <TabPanel >\r\n\r\n            <form className=\"form\" onSubmit={(e) => this.submitFile(e)}>\r\n              <h3>Select your file</h3>\r\n              <label>Select Book: </label>\r\n              <input type='file' onChange={this.getFile} accept='application/pdf' />\r\n              <label>Select Book Image: </label>\r\n              <input type='file' onChange={this.getImage} accept='image/*'/>\r\n              <br></br>\r\n              <label>Title: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ contentName: e.target.value })} />\r\n              <label>Author: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ ownerName: e.target.value })} />\r\n              <label>Purchase Price: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ price: e.target.value })} />\r\n              <label>Rent Price: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ rent: e.target.value })} />\r\n              <label>Rent Duration: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ rentDays: e.target.value })} />\r\n              <button className=\"button\"><span>Upload </span></button><br></br>\r\n              \r\n              <div className=\"hash-div\">\r\n                <strong>IPFS Hash: </strong>\r\n                <span className=\"hashLink\" onClick={() => this.openModal(this.state.ipfsHash)}>{this.state.ipfsHash}</span>\r\n              </div>\r\n            </form>\r\n\r\n            <Modal visible={this.state.visible} width=\"600\" height=\"600\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\r\n              <p><strong>Preview</strong></p>\r\n              <iframe className=\"preview\" src={this.loadHtml()} ></iframe>\r\n            </Modal>\r\n\r\n          </TabPanel>\r\n\r\n          <TabPanel >\r\n            <div>\r\n              <button className=\"refresh\" onClick={this.getAll}>Refresh</button>\r\n            </div>\r\n            <div className=\"coins\">\r\n              {coins}\r\n            </div>\r\n            <Modal visible={this.state.visible} width=\"600\" height=\"600\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\r\n              <p><strong>Book Review</strong></p>\r\n              <iframe className=\"preview\" src={this.loadHtml()} ></iframe>\r\n            </Modal>\r\n          </TabPanel>\r\n\r\n          <TabPanel className=\"tab\">\r\n            \r\n            <form className=\"form\" onSubmit={this.buyToken}>\r\n              <h3>Buy Tokens</h3>\r\n              <label>Tokens: </label>\r\n              <input className=\"text\" type='text' onInput={e => this.setState({ token: e.target.value })} />\r\n              <button className=\"buy button\"><span>Buy </span></button>\r\n            </form>\r\n          </TabPanel>\r\n\r\n          <TabPanel>\r\n            <h3>Profile</h3>\r\n            <div>\r\n              <button className=\"refresh\" onClick={this.getCustomerCall}>Refresh</button>\r\n            </div>\r\n            <p><strong>Wallet Balance: </strong>{parseInt(this.state.wallet)} </p>\r\n            <p><strong>BOOKS BOUGHT</strong></p>\r\n            {booksList}\r\n            <Modal visible={this.state.visible} width=\"600\" height=\"600\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\r\n              <p><strong>Book </strong></p>\r\n              <iframe className=\"preview\" src={this.loadHtml()} ></iframe>\r\n            </Modal>\r\n\r\n            <p className=\"rentLabel\"><strong>BOOKS RENTED</strong></p>\r\n            {rentList}\r\n          </TabPanel>\r\n          <TabPanel className=\"insights\">\r\n          <div>\r\n            <button className=\"refresh\" onClick={this.getTotal}>Refresh</button>\r\n          </div>\r\n            <section>\r\n              <h3>Total Books Sold / Rented</h3>\r\n              <h1 className=\"head\">{parseInt(this.state.totalSold)}</h1>\r\n            </section>\r\n            <section>\r\n              <h3>Total Earnings</h3>\r\n              <h1 className=\"head\">{parseInt(this.state.earnings) + \" ATC\"}</h1>\r\n            </section>\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;","import Web3 from \"web3\";\r\n\r\nconst getWeb3 = () =>\r\n  new Promise((resolve, reject) => {\r\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\r\n    window.addEventListener(\"load\", async () => {\r\n      // Modern dapp browsers...\r\n      if (window.ethereum) {\r\n        const web3 = new Web3(window.ethereum);\r\n        try {\r\n          // Request account access if needed\r\n          await window.ethereum.enable();\r\n          // Acccounts now exposed\r\n          resolve(web3);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      }\r\n      // Legacy dapp browsers...\r\n      else if (window.web3) {\r\n        // Use Mist/MetaMask's provider.\r\n        const web3 = window.web3;\r\n        console.log(\"Injected web3 detected.\");\r\n        resolve(web3);\r\n      }\r\n      // Fallback to localhost; use dev console port by default...\r\n      else {\r\n        const provider = new Web3.providers.HttpProvider(\r\n          \"http://localhost:9545\"\r\n        );\r\n        const web3 = new Web3(provider);\r\n        console.log(\"No web3 instance injected, using Local web3.\");\r\n        resolve(web3);\r\n      }\r\n    });\r\n  });\r\n\r\nexport default getWeb3;\r\n","import React, { Component } from 'react';\r\nimport './Card.css';\r\n\r\nclass Card extends Component {\r\n    render() {\r\n        \r\n        return (\r\n          \r\n            <React.Fragment>\r\n                <div className=\"card\" >\r\n                    \r\n                    <img className=\"image\" alt=\"product\" src={`https://ipfs.io/ipfs/${this.props.imag}`} align=\"middle\"></img>\r\n                    <div className=\"p-des\">\r\n                        <p><strong>Book Name : </strong>{this.props.author}</p>\r\n                        {/* <div></div> */}\r\n                        <p><strong>Author : </strong>{this.props.pname}</p>\r\n                        {/* <div></div> */}\r\n                        <p><strong>Purchase Price : </strong>{this.props.price}</p>\r\n                        {/* <div></div> */}\r\n                        <p><strong>Rent Price : </strong>{this.props.rentPrice}</p>\r\n                        {/* <div></div> */}\r\n                        <p><strong>Rent Duration : </strong>{this.props.days}</p>\r\n\r\n                        <div className=\"button-grp\">\r\n                            <button onClick={this.props.buyClick}>Buy</button>\r\n                            <button onClick={this.props.rentClick}>Rent</button>\r\n                        </div>\r\n                        {/* <button onClick={this.props.viewClick}>View</button> */}\r\n                    </div>\r\n\r\n                </div>\r\n                \r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n                //                 <style jsx=\"true\">{`\r\n                //                 .ui stackable grid {\r\n                //                     text-align: center;\r\n                //                     margin:auto;\r\n                //                 }\r\n                                \r\n                //                 div.content {\r\n                //                     padding: 0 1em;\r\n                //                     margin: 5px 0;\r\n                //                 }   \r\n                //                 .content .heading {\r\n                //                     font-size: 15px;\r\n                //                     width: 100%;\r\n                //                     padding: 15px 0 0 15px;\r\n                //                     margin:auto;\r\n\r\n                //                 }   \r\n                //                 .content div strong {\r\n                //                     font-size: 20px;\r\n                //                 }\r\n                //                 .content .sort {\r\n                //                     font-size: 15px;\r\n                //                     margin: 3rem 0 2rem 0;\r\n                //                     padding: 0 8px;\r\n                //                 } \r\n                //                 select {\r\n                //                     width: 200px;\r\n                //                     height: 25px;\r\n                //                     background: #e8e8e8;\r\n                //                     font-weight: 500;\r\n                //                     padding: 0 10px;\r\n                //                     margin-left: 15px;\r\n                //                     border-radius: 5px;\r\n                //                     border: none;\r\n                //                     outline: none;\r\n                //                 }                  \r\n                //                 .content .column {\r\n                //                     padding: 0.5em !important;\r\n                //                     margin:auto;\r\n\r\n                //                 }  \r\n                //                 @media screen and (max-width: 700px) {\r\n                //                     div.three {\r\n                //                         display: none !important;\r\n                //                     }\r\n                //                     .sidebar {\r\n                //                         display: none;\r\n                //                         width: 0;\r\n                //                         height: 300px;\r\n                //                         position: relative;\r\n                //                     }\r\n                //                     div.content {\r\n                //                         padding: 0;\r\n                //                         margin-left: 0;\r\n                //                     }\r\n                //                 }             \r\n                // `}\r\n                // </style>\r\n                //             </React.Fragment>   \r\n                //             );\r\n                //         }\r\n\r\n                                          \r\nexport default Card;"],"sourceRoot":""}